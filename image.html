<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Image Generator</title>
</head>
<body>
    <div class="container">
        <h1>AI Image Generator</h1>
        <input type="text" id="prompt" placeholder="Enter your prompt here">
        <button id="generateBtn">Generate Image</button>
        <div id="error"></div>
        <div id="imageContainer">
            <img id="generatedImage" src="" alt="Generated image will appear here" style="display: none;">
        </div>
    </div>

    <script>
        const promptInput = document.getElementById('prompt');
        const generateBtn = document.getElementById('generateBtn');
        const errorDiv = document.getElementById('error');
        const generatedImage = document.getElementById('generatedImage');
        const token = 'your token from #open-ai-token'

        generateBtn.addEventListener('click', generateImage);

        async function generateImage() {
            const prompt = promptInput.value.trim();
            if (!prompt) {
                errorDiv.textContent = 'Please enter a prompt.';
                return;
            }

            errorDiv.textContent = '';
            generateBtn.disabled = true;
            generateBtn.textContent = 'Generating...';

            try {
                const response = await fetch('https://jamsapi.hackclub.dev/openai/images/generations', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': 'Bearer ' + token
                    },
                    body: JSON.stringify({
                        prompt: prompt,
                        n: 1,
                        size: "1024x1024"
                    })
                });

                if (!response.ok) {
                    throw new Error('Failed to generate image');
                }

                const data = await response.json();
                generatedImage.src = data.data[0].url;
                generatedImage.style.display = 'block';
            } catch (err) {
                errorDiv.textContent = 'Error generating image. Please try again.';
                console.error(err);
            } finally {
                generateBtn.disabled = false;
                generateBtn.textContent = 'Generate Image';
            }
        }
    </script>
</body>
</html>